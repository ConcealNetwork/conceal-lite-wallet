<div class="loading" *ngIf="isLoading">
  <app-loader [isLoading]="isLoading"></app-loader>
</div>

<div class="container" fxLayout="row" fxLayoutAlign="space-evenly" fxLayoutGap="50px" @enterAnimation>

  <div class="first" fxFlex="40">
    <h1 class="title">{{ 'PAGES.DASHBOARD.PORTFOLIO' | translate }}</h1>
    <mat-card class="cards" fxLayout="column">
      <mat-card-header>
        <mat-card-title>
          {{ 'PAGES.DASHBOARD.BALANCE' | translate }}
        </mat-card-title>
      </mat-card-header>
      <mat-card-content fxFlex="auto">
        <div class="balances" fxLayout="column" fxLayoutAlign="space-between stretch">
          <div fxLayout="row" fxFlex="25" fxLayout="row" fxLayoutAlign="space-between stretch">
            <span class="st">Available</span>
            <span class="sb">15,102,01 <span class="ccx">CCX</span></span>
          </div>
          <div fxLayout="row" fxFlex="25" fxLayout="row" fxLayoutAlign="space-between stretch">
            <span class="st">Pending</span>
            <span class="sb">0.000 <span class="ccx">CCX</span></span>
          </div>
          <div fxLayout="row" fxFlex="25" fxLayout="row" fxLayoutAlign="space-between stretch">
            <span class="st">Locked Deposits</span>
            <span class="sb">0.000 <span class="ccx">CCX</span></span>
          </div>
          <div fxLayout="row" fxFlex="25" fxLayout="row" fxLayoutAlign="space-between stretch">
            <span class="st">Withdrawable</span>
            <span class="sb">15,102,01 <span class="ccx">CCX</span></span>
          </div>
        </div>
      </mat-card-content>
      <mat-card-footer>
        <mat-card-actions fxLayoutAlign="center center">
          <button mat-button aria-hidden="false" aria-label="refresh">
            <!-- <mat-icon svgIcon="cloud_download"></mat-icon> -->
            Refresh
          </button>
          <div fxFlex></div>
          <button mat-button aria-hidden="false" aria-label="trasnfer">
            <!-- <mat-icon svgIcon="send"></mat-icon> -->
            Transfer
          </button>
        </mat-card-actions>
      </mat-card-footer>
    </mat-card>
  </div>

  <div fxFlex="60">
    <div class="first expansion-panel" fxLayout="column">
      <h1 class="title">{{ 'PAGES.DASHBOARD.WALLETS' | translate }}</h1>
      <div class="cards" fxLayout="row" fxLayoutGap="15px">
        <mat-card fxFlex *ngFor="let item of wallets | keyvalue">
          <mat-card-header>
            <mat-card-title>
              {{ (item.key.length>7)? (item.key | slice:0:7)+'...':(item.key) }}{{(item.key | slice:-7)}}
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div>Balance: {{ item.value.balance }}</div>
            <div>Locked: {{ item.value.locked }}</div>
            <div>Total: {{ item.value.total }}</div>
            <div>Default: {{ item.value.default }}</div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  
    <div class="expansion-panel" fxLayout="column">
      <h1 class="title">{{ 'PAGES.DASHBOARD.ACTIVITY' | translate }}</h1>
      <mat-accordion [@.disabled]="disableAnimation">
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title fxFlex="50">
              <mat-icon svgIcon="flight_land" fxFlex="15"></mat-icon>
              <span fxFlex>Funds Received</span>
            </mat-panel-title>
            <mat-panel-description fxFlex>
              5 hours ago
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="details" fxLayout="row" fxLayoutAlign="space-around stretch">
            <span>25 CCX</span>
            <span>25/04/2020</span>
            <span>Height: 496,235</span>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title fxFlex="50">
              <mat-icon svgIcon="flight_takeoff" fxFlex="15"></mat-icon>
              <span fxFlex>Funds Sent</span>
            </mat-panel-title>
            <mat-panel-description fxFlex>
              2 days ago
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="details" fxLayout="row" fxLayoutAlign="space-around stretch">
            <span>25 CCX</span>
            <span>25/04/2020</span>
            <span>Height: 496,235</span>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title fxFlex="50">
              <mat-icon svgIcon="send" fxFlex="15"></mat-icon>
              <span fxFlex>Message Sent</span>
            </mat-panel-title>
            <mat-panel-description fxFlex>
              1 week ago
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="details" fxLayout="row" fxLayoutAlign="space-around stretch">
            <span>25/04/2020</span>
            <span>This is a test message to your wallet</span>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title fxFlex="50">
              <mat-icon svgIcon="markunread_mailbox" fxFlex="15"></mat-icon>
              <span fxFlex>Message Received</span>
            </mat-panel-title>
            <mat-panel-description fxFlex>
              6 weeks ago
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="details" fxLayout="row" fxLayoutAlign="space-around stretch">
            <span>25/04/2020</span>
            <span>This is a test message to your wallet</span>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  
</div>